<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: draw.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: draw.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class Draw
 */
define([
    '../lib/radio',
    './config',
    './dom-control'
], function(radio, config, DomControl) {
    return {
        /**
         * @member {HTMLEntity} Draw._canvas
         */
        _canvas: null,

        /**
         * @member {object} Draw._context - the canavas drawing context
         */
        _context: null,

        init: function() {
            this._canvas = DomControl.getCanvas();
            this._context = DomControl.getContext();
        },

        /**
         * renders an entity based on it's options
         * @method Draw.renderEntity
         */
        renderEntity: function(entity) {
            var x, y;

            this._context.save();
            this._context.globalAlpha = entity.opacity;

            /*if (entity.scale !== 1) {
                this._context.scale = entity.scale;
            }*/

            if (entity.rotation !== 0) {
                 this._context.translate(entity._screenX + entity.width / 2, entity.screenY + entity.height / 2);
                 this._context.rotate(entity.rotation);

                 x = -entity.width / 2;
                 y = -entity.height / 2;
             } else {
                 x = entity.x;
                 y = entity.y;
             }

            this._context.drawImage(
                entity.img,
                entity.srcX,
                entity.srcY,
                entity.srcWidth,
                entity.srcHeight,
                Math.floor(x),
                Math.floor(y),
                entity.width,
                entity.height
            );

            this._context.restore();
        },

        /**
         * clears the entire canvas
         *
         * @method Draw.clearCanvas
         * @returns {Draw}
         */
        clearCanvas: function() {
            this._context.clearRect(0, 0, config.width, config.height);
            return this;
        },

        /**
         * fills the entire canvas
         *
         * @method Draw.fillCanvas
         * @param color - the color to fill the canvas
         * @returns {Draw}
         */
        fillCanvas: function(color) {
            this._context.fillStyle = color;
            this._context.fillRect(0, 0, config.width, config.height);

            return this;
        }
    };
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Config.html">Config</a></li><li><a href="Crud.html">Crud</a></li><li><a href="DomControl.html">DomControl</a></li><li><a href="Draw.html">Draw</a></li><li><a href="Engine.html">Engine</a></li><li><a href="Game.html">Game</a></li><li><a href="Input.html">Input</a></li><li><a href="Layer.html">Layer</a></li><li><a href="Observable.html">Observable</a></li><li><a href="Sprite.html">Sprite</a></li><li><a href="State.html">State</a></li><li><a href="StateControl.html">StateControl</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha10</a> on Sun Nov 09 2014 23:26:13 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
