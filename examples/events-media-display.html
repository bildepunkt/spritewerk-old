<!DOCTYPE html>
<html>
<head>
    <title>spritewerk events, media &amp; display</title>

    <script src="../src/spritewerk.js"></script>

    <script src="../src/common/util.js"></script>
    <script src="../src/common/unique.js"></script>
    <script src="../src/common/collection.js"></script>

    <script src="../src/events/signal.js"></script>
    <script src="../src/events/input.js"></script>

    <script src="../src/media/preloader.js"></script>
    <script src="../src/media/media-manager.js"></script>

    <script src="../src/display/vector.js"></script>
    <script src="../src/display/canvas.js"></script>
    <script src="../src/display/renderable.js"></script>
    <script src="../src/display/sprite.js"></script>
    <script src="../src/display/line.js"></script>
    <script src="../src/display/rectangle.js"></script>

    <script>
        function init() {
            SW.Events.Signal.removeListener(window, 'load', init);
            SW.Events.Signal.addListener('preload/complete', onPreloadComplete);

            SW.Display.Canvas = new SW.Display.Canvas({
                id: 'spritewerk',
                width: 600,
                height: 400
            });

            SW.Media.MediaManager.preload({
                ghost: 'img/Ghost.png'
            });

            function onPreloadComplete() {
                SW.Events.Signal.removeListener('preload/complete', onPreloadComplete);

                var sprite = new SW.Display.Sprite();
                sprite.image(SW.Media.MediaManager.getImage('ghost'));

                SW.Display.Canvas.render(sprite);
            }
        }

        SW.Events.Signal.addListener(window, 'load', init);
    </script>
</head>
<body>
    <canvas id="spritewerk"></canvas>
</body>
</html>
