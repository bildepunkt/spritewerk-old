CustomEvent=window.CustomEvent||function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},CustomEvent.prototype=window.Event.prototype,Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(){function i(t,n,r){e?t.addEventListener(n,r,!1):t.attachEvent(n,r)}function s(t,n,r){e?t.removeEventListener(n,r,!1):t.detachEvent(n,r)}function o(t,n,r){var i,s;e?(s=new CustomEvent(n,{detail:r}),t.dispatchEvent(s)):(i="on"+n,t.fireEvent(i))}function u(e){var t;return/^\..+$/.test(e)?t=document.getElementsByClassName(e.split(".")[1]):/^\#.+$/.test(e)?t=document.getElementById(e.split("#")[1]):e==="window"?t=window:e==="document"?t=document:t=document.getElementsByTagName(e),t}var e="addEventListener"in window,t=document.createElement("div"),n=document.getElementsByTagName("body")[0],r={};t.id="radio-mediator",n.appendChild(t);var a={tuneIn:function(e,n,s,o){var a;typeof e=="string"&&typeof n=="function"&&(o=s?s:null,s=n,n=e,e=t),typeof e=="string"&&(e=u(e)),o&&(r[n]||(r[n]=[]),a={handler:s,boundHandler:s.bind(o)},r[n].push(a));if(e.hasOwnProperty("length")&&e.length>0)for(var f=0;f<e.length;f+=1)i(e[f],n,a?a.boundHandler:s);else i(e,n,a?a.boundHandler:s)},tuneOut:function(e,n,i){typeof e=="string"&&typeof n=="function"&&(i=n,n=e,e=t),typeof e=="string"&&(e=u(e));if(r[n])for(var o=0;o<r[n].length;o+=1)if(i===r[n][o].handler){i=r[n][o].boundHandler,r[n].splice(o,1);break}if(e.hasOwnProperty("length")&&e.length>0)for(var o=0;o<e.length;o+=1)s(e[o],n,i);else s(e,n,i)},broadcast:function(e,n,r){typeof e=="string"&&typeof n!="string"&&(r=n,n=e,e=t),typeof e=="string"&&(e=u(e));if(e.hasOwnProperty("length")&&e.length>0)for(var i=0;i<e.length;i+=1)o(e[i],n,r);else o(e,n,r)},destroy:function(){}};try{module.exports=a}catch(f){try{define("lib/radio",[],a)}catch(f){window.radio=a}}}(),define("sw/config",[],{fps:30,width:960,height:600,backgroundColor:"#444"}),define("sw/dom-control",["../lib/radio","sw/config"],function(e,t){return{_canvas:null,_context:null,_IS_LANDSCAPE:null,_RATIO:null,init:function(){e.tuneIn(window,"resize",this._onWindowResize,this),this._width=t.width,this._height=t.height,this._canvas=document.getElementById("spritewerk"),this._context=this._canvas.getContext("2d"),this._canvas.width=this._width,this._canvas.height=this._height,this._styleElements(),this._IS_LANDSCAPE=this._width>this._height?!0:!1,this._RATIO=this._IS_LANDSCAPE?this._height/this._width:this._width/this._height,this._onWindowResize()},_styleElements:function(){var e=document.getElementsByTagName("body")[0];e.style.backgroundColor=t.backgroundColor,e.style.margin=0,e.style.padding=0,this._canvas.style.position="absolute"},_onWindowResize:function(){var e=t.height/t.width,n=t.width/t.height,r=e<n?!0:!1,i=window.innerWidth,s=window.innerHeight,o=s/i,u=i/s,a=0,f=0,l,c;r?e<o?(l=i,c=l*e,f=(s-c)/2):(c=s,l=s*n,a=(i-l)/2):n<u?(c=s,l=s*n,a=(i-l)/2):(l=i,c=l*e,f=(s-c)/2),this._canvas.style.width=Math.round(l)+"px",this._canvas.style.height=Math.round(c)+"px",this._canvas.style.left=a+"px",this._canvas.style.top=f+"px",setTimeout(function(){window.scrollTo(0,1)},1)},getCanvas:function(){return this._canvas},getContext:function(){return this._context}}}),requestAnimationFrame=function(){return requestAnimationFrame||webkitRequestAnimationFrame||mozRequestAnimationFrame||msRequestAnimationFrame||oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),define("sw/engine",["../lib/radio","sw/config"],function(e,t){return{_fps:null,_now:null,_then:null,_interval:null,_delta:null,_counter:0,_paused:!1,init:function(){this._fps=t.fps,this._interval=1e3/this._fps,this._then=Date.now(),this._boundUpdate=this._update.bind(this)},start:function(){this._update()},_update:function(){this._paused||requestAnimationFrame(this._boundUpdate),this._now=Date.now(),this._delta=this._now-this._then,this._delta>this._interval&&(this._then=this._now-this._delta%this._interval,this._counter+=1,e.broadcast("newframe",{frame:this._counter}))},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this._update()}}}),define("sw/game",["../lib/radio","sw/dom-control","sw/engine"],function(e,t,n){return{start:function(){SPRITEWERK.windowLoaded?this._onReady():e.tuneIn(window,"load",this._onReady,this)},_onReady:function(){e.tuneOut(window,"load",this._onReady),t.init(),n.init(),n.start()}}}),require(["sw/game"],function(e){e.start()}),define("main",function(){});